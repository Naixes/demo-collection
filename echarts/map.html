<!DOCTYPE html>
<html>
<head>
	<title>地图</title>
	<script type="text/javascript" src="./js/echarts.min.js"></script>
</head>
<body>
    <div id="main" style="width: 600px; height: 600px"></div>
    <script src="./map/js/china.js"></script>
	<script type="text/javascript">
        const mianChart = echarts.init(document.getElementById('main'))

        const randomData = function(){
                return Math.round(Math.random() * 500)
            }
        
        const data = [
            { name: '北京', value: '100' }, { name: '天津', value: randomData() },
            { name: '上海',
                value: randomData() }, { name: '重庆',
                                            value: randomData() },
            { name: '河北',
                value: randomData() }, { name: '河南',
                                            value: randomData() },
            { name: '云南',
                value: randomData() }, { name: '辽宁',
                                            value: randomData() },
            { name: '黑龙江',
                value: randomData() }, { name: '湖南',
                                            value: randomData() },
            { name: '安徽',
                value: randomData() }, { name: '山东',
                                            value: randomData() },
            { name: '新疆',
                value: randomData() }, { name: '江苏',
                                            value: randomData() },
            { name: '浙江',
                value: randomData() }, { name: '江西',
                                            value: randomData() },
            { name: '湖北',
                value: randomData() }, { name: '广西',
                                            value: randomData() },
            { name: '甘肃',
                value: randomData() }, { name: '山西',
                                            value: randomData() },
            { name: '内蒙古',
                value: randomData() }, { name: '陕西',
                                            value: randomData() },
            { name: '吉林',
                value: randomData() }, { name: '福建',
                                            value: randomData() },
            { name: '贵州',
                value: randomData() }, { name: '广东',
                                            value: randomData() },
            { name: '青海',
                value: randomData() }, { name: '西藏',
                                            value: randomData() },
            { name: '四川',
                value: randomData() }, { name: '宁夏',
                                            value: randomData() },
            { name: '海南',
                value: randomData() }, { name: '台湾',
                                            value: randomData() },
            { name: '香港',
                value: randomData() }, { name: '澳门',
                                            value: randomData() }
        ]
        
        const option = {
                // 背景色
                // backgroundColor: '#000',
                // 标题
                title: {
                    text: '',
                    x: 'center',
                    textStyle: {
                        color: '#fff'
                    }
                },
                tooltip: {
                    // 触发类型:item,axis,none
                    trigger: 'item',
                    formatter(params){
                        return `${ params.name } : ${ params.value }`
                    }
                },

                // 视觉映射
                visualMap: {
                    type: 'continuous',
                    min: 0,
                    max: 300,
                    text: [ 'High', 'Low' ],
                    // 手柄拖拽时，是否实时更新。
                    // realtime: true,
                    // 显示/隐藏手柄
                    calculable: false,
                    inRange: {
                        color: [ '#3500CD', '#3584CD', '#3599CD' ]
                    }
                },

                // 图例
                legend: {
                    orient: 'vertical',
                    y: 'bottom',
                    x: 'right',
                    // 对应series的name
                    data: ['xxx'],
                    textStyle: {
                        color: '#fff'
                    }
                },

                toolbox: {
                    show: true,
                    // orient: 'vertical',
                    left: 'left',
                    top: 'top',
                    feature: {
                        dataView: { readOnly: false },
                        restore: {},
                        saveAsImage: {}
                    }
                },

                // dataRange: {
                //     show: false,
                //     min: 0,
                //     max: 300,
                //     // 手柄
                //     // calculable: false,
                //     // text: [ 'High', 'Low' ],
                //     // realtime: true,
                //     color: [ '#3584CD', '#eac736', '#50a3ba' ],
                //     textStyle: {
                //         color: '#fff'
                //     }
                // },
                geo: {
                    map: 'china',
                    // 是否开启鼠标缩放和平移漫游。默认不开启。
                    // roam: true,
                    // 自定义扩展图表类型
                    mapType: 'china',
                    label: {
                        normal: {
                            // 是否显示对应地名，默认false
                            show: true,
                            textStyle: {
                                color: '#fff'
                            }
                        },
                        emphasis: {
                            // 鼠标悬浮是否显示地区名
                            show: false,
                            textStyle: {
                                color: '#fff'
                            }
                        }
                    },
                    itemStyle: {
                        normal: {
                            areaColor: '#3584CD',
                            borderColor: '#fff'
                        },
                        emphasis: {
                            areaColor: '#3584CD',
                            shadowOffsetX: 0,
                            shadowOffsetY: 0,
                            shadowBlur: 0,
                            borderWidth: 0,
                            shadowColor: 'rgba(0, 0, 0, 0.5)'
                        }
                    }
                },
                series: [
                    // {
                    //     // 散点（气泡）图
                    //     type: 'scatter',
                    //     // 该系列使用的坐标系
                    //     coordinateSystem: 'geo'
                    // },
                    {
                        name: 'pm2.5',
                        type: 'map',
                        geoIndex: 0,
                        data,
                        // symbol: 'none'
                        // 标记的大小
                        // symbolSize: 30,
                        // label: {
                        //     normal: {
                        //         show: false
                        //     },
                        //     emphasis: {
                        //         show: false
                        //     }
                        // },
                        // 标记样式
                        // itemStyle: {
                        //     emphasis: {
                        //         borderColor: '#fff',
                        //         borderWidth: 1
                        //     }
                        // }
                    }
                ]
            }
		mianChart.setOption(option)
	</script>
</body>
</html>